<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>demo3</title>
    <link rel="stylesheet" type="text/css" href="css/main2.css">
</head>
<body>
    <div class="wrap" id='wrap'>
        <ul id="pic">
            <li><img src="http://img.mukewang.com/54111cd9000174cd04900170.jpg" alt=""></li>
            <li><img src="http://img.mukewang.com/54111dac000118af04900170.jpg" alt=""></li>
            <li><img src="http://img.mukewang.com/54111d9c0001998204900170.jpg" alt=""></li>
            <li><img src="http://img.mukewang.com/54111d8a0001f41704900170.jpg" alt=""></li>
            <li><img src="http://img.mukewang.com/54111d7d00018ba604900170.jpg" alt=""></li>    
        </ul>
        <ol id="list">
            <li class="on">1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
        </ol>
    </div>
    <script type="text/javascript">
        window.onload = function() {
            var wrap = document.getElementById('wrap'),
                pic = document.getElementById('pic'),
                list = document.getElementById('list').getElementsByTagName('li'),
                index = 0,
                timer = null;

            function auto() {
                timer = setInterval(function(){
                    index++;
                    if (index >= list.length) {
                      index = 0;
                    }
                    change(index);
                },2000);  
            }
            auto();

            function change(curIndex) {
                pic.style.marginTop = -170 * curIndex + 'px';
                for (var n = 0;n < list.length;n++){
                    list[n].className = '';
                }
                    list[curIndex].className = 'on';
                    index = curIndex;
            }
            wrap.onmouseover = function() {
                clearInterval(timer);
            }
            wrap.onmouseout = auto;
            for (var i = 0;i < list.length;i++) {
                list[i].id = i;
                list[i].onmouseover = function(){
                    change(this.id);          
                };
            }
        }
    </script> 
</body>
</html>